<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xsens Device API: Retransmissions and Stream behaviour for Xsens Awinda Systems</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="xsens.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="xsenslogo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Xsens Device API
   &#160;<span id="projectnumber">2021.4.0</span>
   </div>
   <div id="projectbrief">Xsens Device API objects</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('awindaretransmissions.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Retransmissions and Stream behaviour for Xsens Awinda Systems </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="awindaretransmissions_summary"></a>
Summary</h1>
<p>The Awinda system uses a proprietary protocol that allows us to get real-time accurate orientation data on a lossy wireless connection, while being able to retransmit missed data and integrating it to reconstruct the original data. When data is not received in a live application, the accuracy of the (lossy) live data will the same as the original data. There may be missed samples which have no orientation available, but due to the proprietary protocol, the orientation data when it is received again will be accurate. An analog for this would be a person traveling from point A via point B to point C. If the 'point B' data is missed, the live data stream will still know that the person arrived at point C, but won't know about point B. The full stream can be retransmitted to fill the gaps for applications that need the full path.</p>
<p>It is worth noting that the trackers only <em>collect</em> inertial data and the PC <em>integrates</em> this into an orientation. As such, the trackers do not know their own orientation and cannot be asked to send any orientation directly.</p>
<p>XDA provides access to the Live data through the <a class="el" href="group___callbacks.html#gaf94a5a76c3a443255fc53f7a2bf9e076">onLiveDataAvailable</a> callback and to the Full data through the <a class="el" href="group___callbacks.html#ga397146fde21cd36a801206e9b73d8399">onBufferedDataAvailable</a> callback. From this point on we will thus refer to them as the Live Stream and the Buffered Stream.</p>
<h2><a class="anchor" id="awindaretransmissions_livestream"></a>
The Live Stream</h2>
<p>The Live Stream, from its name, obviously reports the most recent knowledge at all times. So in the reference example below, you can see that data is reported as soon as it arrives and missed data is just skipped, not resulting in a <a class="el" href="group___callbacks.html#gaf94a5a76c3a443255fc53f7a2bf9e076">onLiveDataAvailable</a> callback. </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Time/Frame </th><th class="markdownTableHeadCenter">Data received </th><th class="markdownTableHeadCenter">Live Stream  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">11 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">12 </td><td class="markdownTableBodyCenter">12 </td><td class="markdownTableBodyCenter">12  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">13 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">14 </td><td class="markdownTableBodyCenter">14 </td><td class="markdownTableBodyCenter">14  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">15 </td><td class="markdownTableBodyCenter">15 </td><td class="markdownTableBodyCenter">15  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">16 </td><td class="markdownTableBodyCenter">16 </td><td class="markdownTableBodyCenter">16  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">17 </td><td class="markdownTableBodyCenter">17 </td><td class="markdownTableBodyCenter">17  </td></tr>
</table>
<h2><a class="anchor" id="awindaretransmissions_bufferedstream"></a>
The Buffered Stream</h2>
<p>The Buffered Stream proves to be a bit more difficult to understand, which is why it is explained here. This stream behaves differently depending on the mode the system is in. The system can either be in Measurement mode or in Recording/Flushing mode.</p>
<p>When the system is in Measurement state, it behaves exactly like the Live Stream. </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Time/Frame </th><th class="markdownTableHeadCenter">Data received </th><th class="markdownTableHeadCenter">Live Stream </th><th class="markdownTableHeadCenter">Buffered Stream  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">11 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">12 </td><td class="markdownTableBodyCenter">12 </td><td class="markdownTableBodyCenter">12 </td><td class="markdownTableBodyCenter">12  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">13 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">14 </td><td class="markdownTableBodyCenter">14 </td><td class="markdownTableBodyCenter">14 </td><td class="markdownTableBodyCenter">14  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">15 </td><td class="markdownTableBodyCenter">15 </td><td class="markdownTableBodyCenter">15 </td><td class="markdownTableBodyCenter">15  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">16 </td><td class="markdownTableBodyCenter">16 </td><td class="markdownTableBodyCenter">16 </td><td class="markdownTableBodyCenter">16  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">17 </td><td class="markdownTableBodyCenter">17 </td><td class="markdownTableBodyCenter">17 </td><td class="markdownTableBodyCenter">17  </td></tr>
</table>
<p>When the system is in Recording state, the Awinda system assumes that all data is important and tries to retransmit missed data: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Time/Frame </th><th class="markdownTableHeadCenter">Data received </th><th class="markdownTableHeadCenter">Live Stream </th><th class="markdownTableHeadCenter">Buffered Stream  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">11 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">12 </td><td class="markdownTableBodyCenter">12 </td><td class="markdownTableBodyCenter">12 </td><td class="markdownTableBodyCenter">nothing  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">13 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">14 </td><td class="markdownTableBodyCenter">14 </td><td class="markdownTableBodyCenter">14 </td><td class="markdownTableBodyCenter">nothing  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">15 </td><td class="markdownTableBodyCenter">15 and 11 </td><td class="markdownTableBodyCenter">15 </td><td class="markdownTableBodyCenter">11 and 12  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">16 </td><td class="markdownTableBodyCenter">16 and 14 </td><td class="markdownTableBodyCenter">16 </td><td class="markdownTableBodyCenter">13, 14, 15 and 16  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">17 </td><td class="markdownTableBodyCenter">17 </td><td class="markdownTableBodyCenter">17 </td><td class="markdownTableBodyCenter">17  </td></tr>
</table>
<p>This can be seen in frames 15 and 16 where two packets are received instead of one. The Buffered Stream will now wait for retransmissions to arrive and will then make all data available in order. This is why it's called the Buffered Stream. In this example it is already obvious that the Buffered Stream can have some delays and when missing a lot of data it may take some time for it to catch up to the Live Stream.</p>
<p>The two examples also show that the behaviour of the Live Stream doesn't change when the system changes between Measurement and Recording modes.</p>
<h2><a class="anchor" id="awindaretransmissions_flushingmode"></a>
Flushing Mode</h2>
<p>The above is pretty straightforward, but at some point you may decide to end the Recording mode. At this point the Buffered Stream will start behaving like the Live Stream again, but only after all data that had previously been missed is retransmitted. So let's say you end the recording at frame 12 in the above example: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Time/Frame </th><th class="markdownTableHeadCenter">Data received </th><th class="markdownTableHeadCenter">Live Stream </th><th class="markdownTableHeadCenter">Buffered Stream </th><th class="markdownTableHeadCenter">Mode  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">Recording  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">11 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">Recording  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">12 End REC </td><td class="markdownTableBodyCenter">12 </td><td class="markdownTableBodyCenter">12 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">Flushing  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">13 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">Flushing  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">14 </td><td class="markdownTableBodyCenter">14 </td><td class="markdownTableBodyCenter">14 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">Flushing  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">15 </td><td class="markdownTableBodyCenter">15 and 11 </td><td class="markdownTableBodyCenter">15 </td><td class="markdownTableBodyCenter">11, 12, 14, 15 </td><td class="markdownTableBodyCenter">Measurement  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">16 </td><td class="markdownTableBodyCenter">16 </td><td class="markdownTableBodyCenter">16 </td><td class="markdownTableBodyCenter">16 </td><td class="markdownTableBodyCenter">Measurement  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">17 </td><td class="markdownTableBodyCenter">17 </td><td class="markdownTableBodyCenter">17 </td><td class="markdownTableBodyCenter">17 </td><td class="markdownTableBodyCenter">Measurement  </td></tr>
</table>
<h2><a class="anchor" id="awindaretransmissions_datastream"></a>
The Data Stream</h2>
<p>The last stream is the generic Data Stream: <a class="el" href="group___callbacks.html#ga9a65730e9aa35fe9c52c92807741f088">onDataAvailable</a>. This is just a convenience stream. Essentially this is identical to the Live Stream when attached to a live device, but it is identical to the Buffered Stream when reading from a file. The motivation is that in a Live situation, the Live data is more relevant for feedback, while in a File situation you probably want to analyze all data.</p>
<h1><a class="anchor" id="awindaretransmissions_multidev"></a>
Multiple MTw behaviour</h1>
<p>The above explains the situation for single trackers and it remains valid for single trackers in a multi-device setup. However, XDA also offers multi-device callbacks: <a class="el" href="group___callbacks.html#ga4e7bf7c16f2f8bf70da7150f8a68ac95">onAllLiveDataAvailable</a> and <a class="el" href="group___callbacks.html#ga270ee8957dac53bdf04aee0ba40b3c03">onAllBufferedDataAvailable</a>. When enabled, these are called from the master device and do some extra interpolation math to deal with problematic situations. The basic logic is similar to the single streams, explained above. Contrary to the rest of the system, interpolated data should not be considered very reliable or accurate. If just a single sample is interpolated, it will likely be close to the truth, but if many samples are interpolated, it is extremely unlikely that the interpolated values are accurate. They are merely provided as a guess so we can provide data for all devices.</p>
<h2><a class="anchor" id="awindaretransmissions_alllivestream"></a>
The All Live Stream</h2>
<p>The All Live Stream reports the most recent knowledge at all times, but only once it has data for all trackers. It will interpolate missing data, marked with an (i) in the example below. This callback will not skip any frames, but will mark interpolated data as such. The example refers to trackers A and B, but it is easy to see that the same mechanism applies to any supported number of trackers. </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Time/Frame </th><th class="markdownTableHeadCenter">Data A </th><th class="markdownTableHeadCenter">Data B </th><th class="markdownTableHeadCenter">Live Stream A </th><th class="markdownTableHeadCenter">Live Stream B </th><th class="markdownTableHeadCenter">All Live Stream  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">11 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">11 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">11 </td><td class="markdownTableBodyCenter">nothing  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">12 </td><td class="markdownTableBodyCenter">12 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">12 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">A11(i) B11  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">13 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">14 </td><td class="markdownTableBodyCenter">14 </td><td class="markdownTableBodyCenter">14 </td><td class="markdownTableBodyCenter">14 </td><td class="markdownTableBodyCenter">14 </td><td class="markdownTableBodyCenter">A12 B12(i)<br  />
A13(i) B13(i)<br  />
A14 B14  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">15 </td><td class="markdownTableBodyCenter">15 </td><td class="markdownTableBodyCenter">15 </td><td class="markdownTableBodyCenter">15 </td><td class="markdownTableBodyCenter">15 </td><td class="markdownTableBodyCenter">15  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">16 </td><td class="markdownTableBodyCenter">16 </td><td class="markdownTableBodyCenter">16 </td><td class="markdownTableBodyCenter">16 </td><td class="markdownTableBodyCenter">16 </td><td class="markdownTableBodyCenter">16  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">17 </td><td class="markdownTableBodyCenter">17 </td><td class="markdownTableBodyCenter">17 </td><td class="markdownTableBodyCenter">17 </td><td class="markdownTableBodyCenter">17 </td><td class="markdownTableBodyCenter">17  </td></tr>
</table>
<h2><a class="anchor" id="awindaretransmissions_allbufferedstream"></a>
The All Buffered Stream</h2>
<p>The All Buffered Stream essentially does the same as the single tracker Buffered Stream, but waits until all data for a frame is available for all trackers. As with the single tracker stream its behaviour is identical to the All Live Data stream as long as the system is in Measurement mode. Once the system is in Recording mode it will behave differently as shown in the table below. Only once data is considered to be permanently unavailable will this stream do interpolation like the All Live Stream. This should be very rare in normal operation. </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Time/Frame </th><th class="markdownTableHeadCenter">Data A </th><th class="markdownTableHeadCenter">Data B </th><th class="markdownTableHeadCenter">Buffered Stream A </th><th class="markdownTableHeadCenter">Buffered Stream B </th><th class="markdownTableHeadCenter">All Buffered Stream  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">11 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">11 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">11 </td><td class="markdownTableBodyCenter">nothing  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">12 </td><td class="markdownTableBodyCenter">12 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">13 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">14 </td><td class="markdownTableBodyCenter">14 </td><td class="markdownTableBodyCenter">14 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">15 </td><td class="markdownTableBodyCenter">15 and 11 </td><td class="markdownTableBodyCenter">15 and 12 </td><td class="markdownTableBodyCenter">11, 12 </td><td class="markdownTableBodyCenter">12, 13 </td><td class="markdownTableBodyCenter">11, 12  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">16 </td><td class="markdownTableBodyCenter">16 and 13 </td><td class="markdownTableBodyCenter">16 and 13 </td><td class="markdownTableBodyCenter">13, 14, 15, 16 </td><td class="markdownTableBodyCenter">14, 15, 16 </td><td class="markdownTableBodyCenter">13, 14, 15, 16  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">17 </td><td class="markdownTableBodyCenter">17 </td><td class="markdownTableBodyCenter">17 </td><td class="markdownTableBodyCenter">17 </td><td class="markdownTableBodyCenter">17 </td><td class="markdownTableBodyCenter">17  </td></tr>
</table>
<h2><a class="anchor" id="awindaretransmissions_alldatastream"></a>
The All Data Stream</h2>
<p>The last stream is the generic All Data Stream: <a class="el" href="group___callbacks.html#gaeb4e17817075f23aa461ecf92bb997ba">onAllDataAvailable</a>. This is just a convenience stream similar to the single tracker Data Stream.</p>
<h1><a class="anchor" id="awindaretransmissions_datastreamdelays"></a>
A note on delays in the Buffered Stream</h1>
<p>Old data is stored in a circular buffer on the MTws. To ensure that we lose as little data as possible, the Awinda system will always attempt to retransmit the oldest data it missed first. To ensure optimal responsiveness, there is also limited bandwidth reserved for retransmissions. These two combined can sometimes give the impression that a device's Buffered Stream has stopped in Recording mode. This can be seen in the example below. This is an extreme case where there is only room for one retransmission at a time. Tracker A has some problems at the start of the recording, while tracker B only misses a single sample later in the recording. Still tracker A's Buffered stream will seem to be ok while tracker B's stream will suddenly seem to stop. In the end, the system catches up and all streams are aligned again, but this may take some time. <br  />
As can be seen in the example, tracker B's Live Stream never stops except for the one missed sample.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Time/Frame </th><th class="markdownTableHeadCenter">Data A </th><th class="markdownTableHeadCenter">Data B </th><th class="markdownTableHeadCenter">Buffered Stream A </th><th class="markdownTableHeadCenter">Buffered Stream B </th><th class="markdownTableHeadCenter">Live Stream A </th><th class="markdownTableHeadCenter">Live Stream B  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">11-1011 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">11-1011 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">11-1011 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">11-1011  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">1012 </td><td class="markdownTableBodyCenter">1012 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">1012 </td><td class="markdownTableBodyCenter">nothing  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">1013 </td><td class="markdownTableBodyCenter">1013 and 11 </td><td class="markdownTableBodyCenter">1013 </td><td class="markdownTableBodyCenter">11 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">1013 </td><td class="markdownTableBodyCenter">1013  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">1014-2012 </td><td class="markdownTableBodyCenter">1014-2012 and 12-1010 </td><td class="markdownTableBodyCenter">1014-2012 </td><td class="markdownTableBodyCenter">12-1010 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">1014-2012 </td><td class="markdownTableBodyCenter">1014-2012  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">2013 </td><td class="markdownTableBodyCenter">2013 and 1011 </td><td class="markdownTableBodyCenter">2013 </td><td class="markdownTableBodyCenter">1011-2013 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">2013 </td><td class="markdownTableBodyCenter">2013  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">2014 </td><td class="markdownTableBodyCenter">2014 </td><td class="markdownTableBodyCenter">2014 and 1012 </td><td class="markdownTableBodyCenter">2014 </td><td class="markdownTableBodyCenter">1012-2014 </td><td class="markdownTableBodyCenter">2014 </td><td class="markdownTableBodyCenter">2014  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">2015 </td><td class="markdownTableBodyCenter">2015 </td><td class="markdownTableBodyCenter">2015 </td><td class="markdownTableBodyCenter">2015 </td><td class="markdownTableBodyCenter">2015 </td><td class="markdownTableBodyCenter">2015 </td><td class="markdownTableBodyCenter">2015  </td></tr>
</table>
<p>Same example, just tracker A: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Time/Frame </th><th class="markdownTableHeadCenter">Data A </th><th class="markdownTableHeadCenter">Buffered Stream A </th><th class="markdownTableHeadCenter">Live Stream A  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">11-1011 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">1012 </td><td class="markdownTableBodyCenter">1012 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">1012  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">1013 </td><td class="markdownTableBodyCenter">1013 and 11 </td><td class="markdownTableBodyCenter">11 </td><td class="markdownTableBodyCenter">1013  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">1014-2012 </td><td class="markdownTableBodyCenter">1014-2012 and 12-1010 </td><td class="markdownTableBodyCenter">12-1010 </td><td class="markdownTableBodyCenter">1014-2012  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">2013 </td><td class="markdownTableBodyCenter">2013 and 1011 </td><td class="markdownTableBodyCenter">1011-2013 </td><td class="markdownTableBodyCenter">2013  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">2014 </td><td class="markdownTableBodyCenter">2014 </td><td class="markdownTableBodyCenter">2014 </td><td class="markdownTableBodyCenter">2014  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">2015 </td><td class="markdownTableBodyCenter">2015 </td><td class="markdownTableBodyCenter">2015 </td><td class="markdownTableBodyCenter">2015  </td></tr>
</table>
<p>Same example, just tracker B: </p><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">Time/Frame </th><th class="markdownTableHeadCenter">Data B </th><th class="markdownTableHeadCenter">Buffered Stream B </th><th class="markdownTableHeadCenter">Live Stream B  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10 </td><td class="markdownTableBodyCenter">10  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">11-1011 </td><td class="markdownTableBodyCenter">11-1011 </td><td class="markdownTableBodyCenter">11-1011 </td><td class="markdownTableBodyCenter">11-1011  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">1012 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">nothing  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">1013 </td><td class="markdownTableBodyCenter">1013 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">1013  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">1014-2012 </td><td class="markdownTableBodyCenter">1014-2012 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">1014-2012  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">2013 </td><td class="markdownTableBodyCenter">2013 </td><td class="markdownTableBodyCenter">nothing </td><td class="markdownTableBodyCenter">2013  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">2014 </td><td class="markdownTableBodyCenter">2014 and 1012 </td><td class="markdownTableBodyCenter">1012-2014 </td><td class="markdownTableBodyCenter">2014  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">2015 </td><td class="markdownTableBodyCenter">2015 </td><td class="markdownTableBodyCenter">2015 </td><td class="markdownTableBodyCenter">2015  </td></tr>
</table>
<p>In practice we try to configure the system so there is more bandwidth for retransmissions available. Generally there is more bandwidth for live data and less for retransmissions so a similar situation may still arise. The system was designed to work with up to 15% loss of (random) transmissions. If you have a worse radio quality, the standard scheme may not work for you. Lowering the update rate may help in these situations as this both reduces the amount of data to be retransmitted and (with the same amount of trackers) typically gives more bandwidth to the retransmission system. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
